<div class="modal-header">
    <h3 class="modal-title">Operation</h3>
</div>
<div class="modal-body">
    <div ng-controller="TypeTabController">
        <!-- Tabs to show operation type -->
        <tabset type-tabs ng-model="model.type" type="pills">
            <tab heading="Outcome" active="tabs[0].active"></tab>
            <tab heading="Transfer" active="tabs[1].active"></tab>
            <tab heading="Income" active="tabs[2].active"></tab>
        </tabset>
    </div>

    <form role="form" style="margin-top: 10px" ng-submit="submit()" novalidate>
        <div class="form-group">
            <label>Date of operation</label>

            <div ng-controller="DPickerCtrl">
                <p class="input-group">
                    <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="model.date"
                           is-open="opened" datepicker-options="dateOptions" ng-required="true" close-text="Close"/>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="open($event)">
                            <i class="glyphicon glyphicon-calendar"></i>
                        </button>
                    </span>
                </p>
            </div>
        </div>
        <div class="form-group">
            <label>Account</label>
            <ui-select ng-model="account.selected" on-select="accountSelect($model)" required>
                <ui-select-match placeholder="Select account...">{{$select.selected.name}}</ui-select-match>
                <ui-select-choices repeat="account in accounts | filter: $select.search">
                    {{account.name}}
                </ui-select-choices>
            </ui-select>
        </div>
        <div class="form-group">
            <label>Currency</label>
            <ui-select ng-model="currency.selected" on-select="currencySelect($model)" required>
                <ui-select-match placeholder="Select currency...">{{$select.selected.name}}</ui-select-match>
                <ui-select-choices repeat="currency in currencies | filter: $select.search">
                    {{currency.name}}
                </ui-select-choices>
            </ui-select>
        </div>
        <div class="form-group">
            <label>Category</label>
            <ui-select ng-model="category.selected" on-select="categorySelect($model)" required>
                <ui-select-match placeholder="Select category...">{{$select.selected.name}}</ui-select-match>
                <ui-select-choices repeat="category in categories | filter: $select.search">
                    {{category.name}}
                </ui-select-choices>
            </ui-select>
        </div>
        <div class="form-group">
            <label for="amount">Money amount in operation</label>
            <input type="text" class="form-control" id="amount" placeholder="" ng-model="amount"
                   ng-change="updateMoney()">
        </div>
        <div class="form-group">
            <label for="moneyWas">Money was on account before operation</label>
            <input type="text" class="form-control" id="moneyWas" placeholder="" ng-model="moneyWas">
        </div>
        <div class="form-group">
            <label for="moneyBecome">Money become on account after operation</label>
            <input type="text" class="form-control" id="moneyBecome" placeholder="" ng-model="moneyBecome">
        </div>
    </form>

</div>
<div class="modal-footer">
    <button class="btn btn-primary" ng-click="submit()">Save</button>
    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
</div>